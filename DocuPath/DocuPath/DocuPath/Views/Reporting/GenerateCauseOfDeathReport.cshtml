<div id="reportPreview" class="grid reportcontainer">
    <img class="dplogo" src="~/Content/Resources/DPHorizontalLogoWhiteBG.png" style="max-height: 50px; max-width: 150px" />
    <img class="separator1" src="~/Content/Resources/SlantedDivider.png" style="max-height: 50px" />
    <div class="grid report-timestamp">
        <span class="stamp-icon insight-mdl2icon mdl2-action"></span>
        <div class="stamp-label">TIMESTAMP</div>
        <div class="stamp-value">@System.DateTime.Now.ToString("dd MMM yyyy HH:mm:ss")</div>
        <div class="stamp-icon insight-mdl2icon mdl2-datetime"></div>
        <div class="stamp-label">TIMEFRAME</div>
        <div class="stamp-value">@System.DateTime.Now.Date.AddDays(-7).ToString("dd MMM yyyy") - @System.DateTime.Now.Date.ToString("dd MMM yyyy")</div>
    </div>
    <img class="separator2" src="~/Content/Resources/SlantedDivider.png" style="max-height: 50px" />
    <div class="grid report-generator">
        <div class="generator-label">GENERATED BY</div>
        <span class="generator-icon insight-mdl2icon mdl2-individual"></span>
        <div class="generator-value">John Doe</div>
    </div>
    <img class="insightlogo" src="~/Content/Resources/DP_INSIGHT_FINALLOGO_TRANSPARENTBG.png" style="max-height: 50px; max-width: 150px" />
    <div class="report-title">USER ACTIVITY REPORT</div>
    <div class="grid report-params-summary-container">
        <div class="grid params-grid">
            <div class="params-icon insight-mdl2icon mdl2-count"></div>
            <div class="params-label">NUMBER OF ENTRIES</div>
            <div class="params-value">@Model.activityTransactions.Count</div>
            <div class="params-icon insight-mdl2icon mdl2-param"></div>
            <div class="params-label">SORTED BY</div>
            <div class="params-value">Timestamp</div>
            <div class="params-icon insight-mdl2icon mdl2-param"></div>
            <div class="params-label">GROUPED BY</div>
            <div class="params-value">None</div>
        </div>
        <div class="vsep"></div>
        <div class="grid summary-grid">
            <div class="summary-icon insight-mdl2icon mdl2-info"></div>
            <div class="summary-label">REPORT SUMMARY</div>
            <div class="summary-value">This report contains user activity information for the selected user during the specified report timeframe.</div>
        </div>
    </div>
    <div class="report-content">
        <table id="allFC" class="table table-striped table-hover table-condensed table-insight">
            <thead>
                <tr>
                    <th data-id="identifier" data-column-id="FCID" data-visible="false" data-identifier="true" class="colour-dpred">
                        ID
                    </th>
                    <th data-column-id="addedBy" class="colour-dpred">
                        Activity Type
                    </th>
                    <th data-column-id="status" class="colour-dpred">
                        Datestamp
                    </th>
                    <th data-column-id="FCDR" data-cssClass="table-large-identifier-insight-insight" data-formatter="drnumbers" class="colour-dpred">
                        Timestamp
                    </th>
                    <th data-column-id="dateAdded" data-converter="dpdate" data-order="desc" class="colour-dpred">
                        Description
                    </th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i < Model.activityTransactions.Count; i++)
                {
                    <tr>
                        <td>
                            @Model.activityTransactions[i].AuditLogTxID.ToString()
                        </td>
                        <td>
                            @Model.activityTransactions[i].AUDIT_TX_TYPE.TypeValue
                        </td>
                        <td>
                            @Model.activityTransactions[i].TxDateStamp.ToString("dd MMM yyyy")
                        </td>
                        <td>
                            @Model.activityTransactions[i].TxTimeStamp.ToString("HH:mm:ss")
                        </td>
                        <td>
                            @Model.activityTransactions[i].TxCriticalDataString
                        </td>
                    </tr>
                }
            </tbody>
        </table>
        <div class="grid chart-grid">
            <span class="chart-icon insight-mdl2icon mdl2-chart"></span>
            <div class="chart-title">USER ACTIVITY FREQUENCY GRAPH</div>
            <div class="chart-subtitle"></div>
            <canvas class="chart-area" id="myChart" width="750" height="500"></canvas>
        </div>
    </div>
    <div class="grid report-footer footer-bg">
        <div></div>
        <div class="page-counter">PAGE 1<span class="page-counter-accent">OF 999</span></div>
    </div>
</div>




<div class="modal fade" id="report_gen" role="dialog">
    <div class="modal-dialog" style="width:800px;height:auto;max-height:600px;min-height:450px">
        <div class="modal-content">
            <div class="modal-header">
                <div class="grid hdr-grid">
                    <div class="page-hdr">
                        <div class="page-header-subgrid">
                            <div class="icon-circle mdl2icon mdl2-reporting"></div>
                            <div class="circular-motif-left"><img src="~/Content/Resources/CircularMotifLeft.png" style="max-height: 45px" /></div>
                            <div class="page-header-text">GENERATED REPORT PREVIEW</div>
                        </div>
                    </div>
                    <div class="page-btns">
                        <div class="page-buttons-subgrid buttons-two">
                            <div grid-area="left"><img src="~/Content/Resources/CircuitryMotifLeft.png" class="circuitry-left-motif" /></div>
                            <div></div>
                            <div grid-area="btn1">
                                <form class="minimalform" action="javascript:void(0)" style="margin-top: 2px">
                                    <button class="btn btn-default btn-generic btn-page-action mdl2icon mdl2-cancel btn-mdl2icon" onclick="this.blur()" data-dismiss="modal" type="submit" data-toggle="tooltip" title="CLOSE" data-placement="left"></button>
                                </form>
                            </div>
                            <div grid-area="btn2">
                                <form class="minimalform" action="javascript:void(0)" style="margin-top: 2px">
                                    <button class="btn btn-default btn-generic btn-page-action mdl2icon mdl2-print btn-mdl2icon" onclick="this.blur()" type="submit" data-toggle="tooltip" title="PRINT" data-placement="right"></button>
                                </form>
                            </div>
                            <div></div>
                            <div class="right-motif" grid-area="right"><img src="~/Content/Resources/CircuitryMotifRight.png" class="circuitry-right-motif" /></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div class="form-horizontal form-generic nomarg">
                    <div id="reportPreview" class="grid reportcontainer">
                        <img class="dplogo" src="~/Content/Resources/DPHorizontalLogoWhiteBG.png" style="max-height: 50px; max-width: 150px" />
                        <img class="separator1" src="~/Content/Resources/SlantedDivider.png" style="max-height: 50px" />
                        <div class="grid report-timestamp">
                            <span class="stamp-icon insight-mdl2icon mdl2-action"></span>
                            <div class="stamp-label">TIMESTAMP</div>
                            <div class="stamp-value">@System.DateTime.Now.ToString("dd MMM yyyy HH:mm:ss")</div>
                            <div class="stamp-icon insight-mdl2icon mdl2-datetime"></div>
                            <div class="stamp-label">TIMEFRAME</div>
                            <div class="stamp-value">@System.DateTime.Now.Date.AddDays(-7).ToString("dd MMM yyyy") - @System.DateTime.Now.Date.ToString("dd MMM yyyy")</div>
                        </div>
                        <img class="separator2" src="~/Content/Resources/SlantedDivider.png" style="max-height: 50px" />
                        <div class="grid report-generator">
                            <div class="generator-label">GENERATED BY</div>
                            <span class="generator-icon insight-mdl2icon mdl2-individual"></span>
                            <div class="generator-value">John Doe</div>
                        </div>
                        <img class="insightlogo" src="~/Content/Resources/DP_INSIGHT_FINALLOGO_TRANSPARENTBG.png" style="max-height: 50px; max-width: 150px" />
                        <div class="report-title">USER ACTIVITY REPORT</div>
                        <div class="grid report-params-summary-container">
                            <div class="grid params-grid">
                                <div class="params-icon insight-mdl2icon mdl2-count"></div>
                                <div class="params-label">NUMBER OF ENTRIES</div>
                                @*<div class="params-value">@Model.activityTransactions.Count</div>*@
                                <div class="params-icon insight-mdl2icon mdl2-param"></div>
                                <div class="params-label">SORTED BY</div>
                                <div class="params-value">Timestamp</div>
                                <div class="params-icon insight-mdl2icon mdl2-param"></div>
                                <div class="params-label">GROUPED BY</div>
                                <div class="params-value">None</div>
                            </div>
                            <div class="vsep"></div>
                            <div class="grid summary-grid">
                                <div class="summary-icon insight-mdl2icon mdl2-info"></div>
                                <div class="summary-label">REPORT SUMMARY</div>
                                <div class="summary-value">This report contains user activity information for the selected user during the specified report timeframe.</div>
                            </div>
                        </div>
                        <div class="report-content">
                            <table id="allFC" class="table table-striped table-hover table-condensed table-insight">
                                <thead>
                                    <tr>
                                        <th data-id="identifier" data-column-id="FCID" data-visible="false" data-identifier="true" class="colour-dpred">
                                            ID
                                        </th>
                                        <th data-column-id="addedBy" class="colour-dpred">
                                            Activity Type
                                        </th>
                                        <th data-column-id="status" class="colour-dpred">
                                            Datestamp
                                        </th>
                                        <th data-column-id="FCDR" data-cssClass="table-large-identifier-insight-insight" data-formatter="drnumbers" class="colour-dpred">
                                            Timestamp
                                        </th>
                                        <th data-column-id="dateAdded" data-converter="dpdate" data-order="desc" class="colour-dpred">
                                            Description
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @*@for (int i = 0; i < Model.activityTransactions.Count; i++)
                                        {
                                            <tr>
                                                <td>
                                                    @Model.activityTransactions[i].AuditLogTxID.ToString()
                                                </td>
                                                <td>
                                                    @Model.activityTransactions[i].AUDIT_TX_TYPE.TypeValue
                                                </td>
                                                <td>
                                                    @Model.activityTransactions[i].TxDateStamp.ToString("dd MMM yyyy")
                                                </td>
                                                <td>
                                                    @Model.activityTransactions[i].TxTimeStamp.ToString("HH:mm:ss")
                                                </td>
                                                <td>
                                                    @Model.activityTransactions[i].TxCriticalDataString
                                                </td>
                                            </tr>
                                        }*@
                                </tbody>
                            </table>
                            <div class="grid insight-chart-grid">
                                <span class="chart-icon insight-mdl2icon mdl2-chart"></span>
                                <div class="chart-title">USER ACTIVITY FREQUENCY GRAPH</div>
                                <div class="chart-subtitle"></div>
                                <canvas class="chart-area" id="myChart" width="500" height="400"></canvas>
                            </div>
                        </div>
                        <div class="grid report-footer footer-bg">
                            <div></div>
                            <div class="page-counter">PAGE 1<span class="page-counter-accent">OF 999</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts{
<script>
var ctx = document.getElementById("myChart").getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
        datasets: [{
            label: 'Relative Frequency',
            data: [12, 19, 3, 5, 2, 26, 25],
            backgroundColor: [
                'rgba(174, 31, 31, 0.2)',
                'rgba(0, 0, 0, 0.2)',
                'rgba(128, 128, 128, 0.2)',
                'rgba(174, 31, 31, 0.2)',
                'rgba(0, 0, 0, 0.2)',
                'rgba(128, 128, 128, 0.2)',
            ],
            borderColor: [
                'rgba(174, 31, 31, 1)',
                'rgba(128, 128, 128, 1)',
                'rgba(180, 180, 180, 1)',
                'rgba(174, 31, 31, 1)',
                'rgba(128, 128, 128, 1)',
                'rgba(180, 180, 180, 1)',
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});
</script>
    }